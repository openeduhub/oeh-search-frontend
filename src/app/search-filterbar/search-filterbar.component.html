<mat-card *ngIf="show" [formGroup]="facetFilters">
  <div class="header">
    <mat-icon>tune</mat-icon>
    <h2 i18n>Filters</h2>
    <a
      mat-icon-button
      routerLink="/search"
      [queryParams]="{ filter: false }"
      queryParamsHandling="merge"
      ><mat-icon>close</mat-icon></a
    >
  </div>
  <div class="scroll">
    <div class="type">
      <mat-label i18n><mat-icon>photo_library</mat-icon> Type</mat-label>
      <app-multivalue-checkbox
        formControlName="types"
        orientation="horizontal"
        [count]="false"
        [options]="getTypes()"
      ></app-multivalue-checkbox>
    </div>
    <div *ngFor="let key of ['disciplines', 'educationalContexts', 'learningResourceTypes'] " class="vertical">
      <ng-container *ngIf="facets[key]?.buckets?.length">
        <button mat-button i18n (click)="toggle(key)">
          <mat-icon *ngIf="key == 'disciplines'">book_icon</mat-icon>
          <mat-icon *ngIf="key == 'educationalContexts'">school</mat-icon>
          <mat-icon *ngIf="key == 'learningResourceTypes'">photo_library</mat-icon>
          {key, select, keywords {Keywords} sources {Sources} disciplines {Disciplines}
          learningResourceTypes {Learning Resource Types} educationalContexts {Educational
          Contexts}}
          <mat-icon>{{
            expanded.indexOf(key) != -1 ? 'keyboard_arrow_down' : 'keyboard_arrow_right'
          }}</mat-icon>
        </button>
        <app-multivalue-checkbox
          *ngIf="expanded.indexOf(key) != -1"
          [formControlName]="key"
          [options]="facets[key].buckets"
        ></app-multivalue-checkbox>
      </ng-container>
    </div>
  </div>
  <!-- <div class="apply">
    <button mat-raised-button color="primary" i18n><mat-icon>search</mat-icon>Apply</button>
  </div> -->
</mat-card>
