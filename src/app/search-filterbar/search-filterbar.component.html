<mat-card [formGroup]="facetFilters">
  <div class="header">
    <mat-icon>tune</mat-icon>
    <h2 i18n>Filters</h2>
    <a
      class="reset-button"
      mat-button
      routerLink="/search"
      [queryParams]="{ filters: null }"
      queryParamsHandling="merge"
    >
      <mat-icon>undo</mat-icon> <ng-container i18n>Reset</ng-container>
    </a>
    <button mat-icon-button (click)="closeFilterBar()"><mat-icon>close</mat-icon></button>
  </div>
  <div class="body">
    <div class="type">
      <mat-label><mat-icon>apps</mat-icon> <ng-container i18n>Type</ng-container></mat-label>
      <app-multivalue-checkbox
        formControlName="type"
        [showCount]="false"
        [columns]="2"
        [buckets]="facets.types.buckets"
      ></app-multivalue-checkbox>
    </div>
    <ng-container
      *ngFor="
        let key of [
          'disciplines',
          'educationalContexts',
          'learningResourceTypes',
          'intendedEndUserRoles',
          'sources',
          'keywords'
        ]
      "
    >
      <div [hidden]="!facets[key]?.buckets.length" class="vertical">
        <app-collapse-button [ngSwitch]="key" [collapsible]="collapsible">
          <ng-container *ngSwitchCase="'disciplines'">
            <mat-icon class="filter-icon">book_icon</mat-icon>
            <span i18n>Discipline</span>
          </ng-container>
          <ng-container *ngSwitchCase="'educationalContexts'">
            <mat-icon class="filter-icon">school</mat-icon>
            <span i18n>Educational Context</span>
          </ng-container>
          <ng-container *ngSwitchCase="'learningResourceTypes'">
            <mat-icon class="filter-icon">photo_library</mat-icon>
            <span i18n>Learning Resource Type</span>
          </ng-container>
          <ng-container *ngSwitchCase="'intendedEndUserRoles'">
            <mat-icon class="filter-icon">group</mat-icon>
            <span i18n>Intended End User Role</span>
          </ng-container>
          <ng-container *ngSwitchCase="'sources'">
            <mat-icon class="filter-icon">cloud</mat-icon>
            <span i18n>Sources</span>
          </ng-container>
          <ng-container *ngSwitchCase="'keywords'">
            <mat-icon class="filter-icon">list</mat-icon>
            <span i18n>Keywords</span>
          </ng-container>
          <span *ngSwitchDefault>{{ key }}</span>
        </app-collapse-button>
        <app-collapsible #collapsible="appCollapsible" [id]="key" [ready]="ready">
          <app-multivalue-checkbox
            [formControlName]="facets[key].field"
            [buckets]="facets[key].buckets"
          ></app-multivalue-checkbox>
        </app-collapsible>
      </div>
    </ng-container>
  </div>
</mat-card>
