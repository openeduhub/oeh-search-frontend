<a class="details-link" [routerLink]="['/details', result.id]">
  <div class="image-container" mat-card-image>
    <img class="img-bg" [appPreviewImage]="result.previewImage" />
    <img class="img-main" [appPreviewImage]="result.previewImage" [loadHighResImage]="true" />
  </div>
  <mat-card-title class="title">{{ result.lom.general.title | truncate: 52 }}</mat-card-title>
</a>
<div class="badges">
  <div
    *ngIf="(result | isInCollection: 'EDITORIAL') || (result | isInCollection: 'FEATURED')"
    i18n-matTooltip
    matTooltipPosition="left"
    matTooltip="Recommended by editorial team"
  >
    <div class="icon editorial-icon"></div>
  </div>
  <!-- <div
    *ngIf="result.license?.oer === 'ALL'"
    i18n-matTooltip
    matTooltipPosition="left"
    matTooltip="Open Educational Resources"
  >
    <div class="icon oer-icon"></div>
  </div> -->
</div>
<mat-card-content>
  <p class="description" *ngIf="result.lom.general.description">
    {{ result.lom.general.description | trim | truncate: 120 }}
  </p>
  <div class="metadata" *ngIf="result.skos.discipline">
    <label i18n-matTooltip matTooltip="Discipline"><mat-icon>book_icon</mat-icon></label>
    <div>
      <span *ngFor="let discipline of result.skos.discipline | slice: 0:5">
        <a
          routerLink="/search"
          [queryParams]="discipline | generateFilters: 'skos.discipline':filters"
          queryParamsHandling="merge"
          >{{ discipline.label }}</a
        >
      </span>
    </div>
  </div>
  <div class="metadata" *ngIf="result.skos.educationalContext">
    <label i18n-matTooltip matTooltip="Educational context"><mat-icon>school</mat-icon></label>
    <div>
      <span *ngFor="let context of result.skos.educationalContext">
        <a
          routerLink="/search"
          [queryParams]="context | generateFilters: 'skos.educationalContext':filters"
          queryParamsHandling="merge"
          >{{ context.label }}</a
        >
      </span>
    </div>
  </div>
  <div class="metadata" *ngIf="result.skos.learningResourceType">
    <label i18n-matTooltip matTooltip="Learning resource type">
      <mat-icon>photo_library</mat-icon>
    </label>
    <div>
      <span *ngFor="let lrt of result.skos.learningResourceType">
        <a
          routerLink="/search"
          [queryParams]="lrt | generateFilters: 'skos.learningResourceType':filters"
          queryParamsHandling="merge"
          >{{ lrt.label }}</a
        >
      </span>
    </div>
  </div>
  <mat-chip-list
    class="metadata"
    *ngIf="result.lom.general.keyword"
    i18n-aria-label
    aria-label="keywords"
  >
    <mat-chip
      *ngFor="let keyword of result.lom.general.keyword | slice: 0:5"
      routerLink="/search"
      [queryParams]="keyword | generateFilters: 'lom.general.keyword':filters"
      queryParamsHandling="merge"
      >{{ keyword }}</mat-chip
    >
  </mat-chip-list>
</mat-card-content>
<!-- <a
  [ngSwitch]="result.type"
>
  <ng-container i18n *ngSwitchCase="'MATERIAL'">Go To Content</ng-container>
  <ng-container i18n *ngSwitchCase="'TOOL'">Go To Tool</ng-container>
  <ng-container i18n *ngSwitchCase="'SOURCE'">Go To Portal</ng-container>
</a> -->
<a
  class="content-link"
  mat-flat-button
  color="primary"
  target="_blank"
  [href]="result.lom.technical.location"
>
  <ng-container i18n>Go To Content</ng-container>
</a>
<a class="source" [href]="result.source.url" target="_blank">
  <ng-container i18n>Source</ng-container>: {{ result.source.name }}</a
>
